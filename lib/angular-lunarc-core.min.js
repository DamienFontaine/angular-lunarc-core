var app=angular.module("lunarc.core",["lunarc.auth","lunarc.flash","lunarc.user"]);require("angular-jwt");var app=angular.module("lunarc.auth",["angular-jwt","lunarc.user"]);module.exports="lunarc.auth",angular.module("lunarc.auth").factory("AuthService",["jwtHelper","User",function(jwtHelper,User){return{user:null,setCredentials:function(){var expToken=localStorage.getItem("id_token"),tokenPayload=jwtHelper.decodeToken(expToken);this.user=new User(tokenPayload.id,tokenPayload.username,tokenPayload.email)},storeToken:function(id_token){localStorage.setItem("id_token",id_token),this.setCredentials()},isAuthenticated:function(){var expToken=localStorage.getItem("id_token");try{jwtHelper.decodeToken(expToken);if(jwtHelper.isTokenExpired(expToken))return this.user=null,!1;this.setCredentials()}catch(err){return!1}return!0}}}]);var app=angular.module("lunarc.flash",[]);module.exports="lunarc.flash",angular.module("lunarc.flash").factory("FlashService",["$rootScope",function($rootScope){var queue=[],currentMessage="";return $rootScope.$on("$locationChangeStart",function(event){currentMessage=queue.shift()||""}),{set:function(message){queue.push(message)},get:function(){return queue.length>0&&(currentMessage=queue.shift()),currentMessage},clear:function(){currentMessage=""}}}]),require("angular-resource");var app=angular.module("lunarc.user",["ngResource"]);module.exports="lunarc.user",angular.module("lunarc.user").factory("User",[function(){var User=function(id,username,email){this.id=id,this.username=username,this.email=email};return User}]),angular.module("lunarc.user").factory("UserService",["$resource",function($resource){return $resource("/user/:Id",{Id:"@ID"},{update:{method:"PUT",params:{Id:"@ID"}}})}]);